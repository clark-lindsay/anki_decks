<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7491685624-1">%{</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="7491685624-1">}</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="k">with</span><span class="w"> </span><span class="p" data-group-id="7491685624-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p" data-group-id="7491685624-2">}</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nc">Map</span><span class="o">.</span><span class="n">fetch</span><span class="p" data-group-id="7491685624-3">(</span><span class="n">opts</span><span class="p">,</span><span class="w"> </span><span class="ss">:width</span><span class="p" data-group-id="7491685624-3">)</span><span class="p">,</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">     </span><span class="p" data-group-id="7491685624-4">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p" data-group-id="7491685624-4">}</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nc">Map</span><span class="o">.</span><span class="n">fetch</span><span class="p" data-group-id="7491685624-5">(</span><span class="n">opts</span><span class="p">,</span><span class="w"> </span><span class="ss">:height</span><span class="p" data-group-id="7491685624-5">)</span><span class="w"> </span><span class="k" data-group-id="7491685624-6">do</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="p" data-group-id="7491685624-7">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p" data-group-id="7491685624-7">}</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="k" data-group-id="7491685624-6">else</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="ss">:error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">    </span><span class="p" data-group-id="7491685624-8">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:wrong_data</span><span class="p" data-group-id="7491685624-8">}</span><span class="w">
</span><span class="gp unselectable">...&gt;</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="c">_other_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">    </span><span class="ss">:unexpected_error</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="k" data-group-id="7491685624-6">end</span><span class="w">
</span>{{c1::<span class="p" data-group-id="7491685624-9">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:wrong_data</span><span class="p" data-group-id="7491685624-9">}</span>}}<br></code></pre>

